(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{bMDe:function(e,t,n){"use strict";n.r(t);var i=n("rePB"),r=n("nKUr"),o=n("Oesx"),c=n.n(o),a=n("a6RD"),d=n.n(a),u=n("Evpv"),s=function(e,t){return t.find((function(t){return e.find((function(e){return e.id===t&&!e.minimized}))}))||""},h=n("ZMKu"),l=n("9Z7V"),m=n("m+kb"),f=n("q1tI"),b=n("gVB8");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=d()((function(){return Promise.all([n.e(7),n.e(15)]).then(n.bind(null,"Kg0h"))}),{loadableGenerated:{webpack:function(){return["Kg0h"]},modules:["@/components/System/WindowManager/Window"]}}),g=u.h+u.j*u.k;t.default=function(e){var t=e.loader,n=t.loader,i=t.loadedAppOptions,o=t.loaderOptions,a=o.width,d=o.height,w=e.bgColor,j=e.height,x=e.icon,y=e.id,z=e.launchElement,v=e.lockAspectRatio,M=e.maximized,k=e.minimized,E=e.name,P=e.taskbarElement,I=e.width,S=e.windowed,D=e.x,C=e.y,W=Object(f.useContext)(m.a),K=W.foreground,_=W.getState,A=W.saveState,B=W.session,N=B.foregroundId,R=B.stackOrder,H=Object(f.useContext)(l.a),J=H.processes,T=H.close,V=H.maximize,Z=H.minimize,q=H.position,F=H.restore,G=H.size,U=Object(f.useState)(!1),X=U[0],Y=U[1],L=_({id:y}),Q=L.x,$=L.y,ee=function(e,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(e===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)&&t===n){var r=2*u.g,o=window.innerWidth-r,c=window.innerHeight-u.e-r;if(i){var a=t/e*Math.min(o,e);a>c?o=c/(t/e):c=a}return{height:Math.ceil(Math.min(c,t)),width:Math.ceil(Math.min(o,e))}}return{height:t,width:e}}(I,j,a,d,v),te=ee.height,ne=ee.width,ie=Object(f.useMemo)((function(){return{x:Math.floor((window.innerWidth-ne)/2),y:Math.floor((window.innerHeight-te-u.e)/2)}}),[]),re=ie.x,oe=ie.y,ce={onMinimize:function(){return Z(y)},onMaximize:function(){return M?F(y,"maximized"):V(y)},onClose:function(){A({height:te,id:y,width:ne,x:Q?D:re+D,y:$?C:oe+C}),T(y)},onFocus:function(){return K(y)},onBlur:function(e){e.relatedTarget!==P&&K("")},updatePosition:q(y),zIndex:g+R.slice().reverse().indexOf(y),maximized:X,minimized:k,id:y,height:te,width:ne};return Object(f.useEffect)((function(){N===y&&k?K(s(J,R.filter((function(e){return e!==y})))):R.includes(y)||K(s(J,R))}),[N,y,k,J,R]),Object(f.useEffect)((function(){M?Y(!0):X&&setTimeout((function(){return Y(!1)}),u.b*u.c)}),[M]),Object(r.jsx)(h.b.article,O(O({className:c.a.animatedWindows,style:{zIndex:N===y?u.i:ce.zIndex,height:te,width:ne}},Object(b.e)({initialX:Q||re,initialY:$||oe,animation:(M&&k?"maxmin":M&&"maximized")||k&&"minimized"||"start",height:te,width:ne,x:D,y:C,taskbarElement:P,launchElement:z,zIndex:ce.zIndex})),{},{children:S?Object(r.jsx)(p,O(O({icon:x,name:E,bgColor:w,lockAspectRatio:v,updateSize:G(y)},ce),{},{children:Object(r.jsx)(n,O(O({},i),ce))})):Object(r.jsx)(n,O(O({},i),ce))}),y)}}}]);