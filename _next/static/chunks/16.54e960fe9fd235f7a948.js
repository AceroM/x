(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{bMDe:function(e,t,n){"use strict";n.r(t);var i=n("rePB"),r=n("nKUr"),o=n("Oesx"),a=n.n(o),c=n("a6RD"),d=n.n(c),u=n("Evpv"),s=function(e,t){return t.find((function(t){return e.find((function(e){return e.id===t&&!e.minimized}))}))||""},h=n("ZMKu"),l=n("9Z7V"),f=n("m+kb"),m=n("q1tI"),b=n("gVB8");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=d()((function(){return Promise.all([n.e(7),n.e(15)]).then(n.bind(null,"Kg0h"))}),{loadableGenerated:{webpack:function(){return["Kg0h"]},modules:["@/components/System/WindowManager/Window"]}}),w=u.f+u.h*u.i;t.default=function(e){var t=e.loader,n=t.loader,i=t.loadedAppOptions,o=t.loaderOptions,c=o.width,d=o.height,p=e.bgColor,j=e.height,x=e.icon,v=e.id,y=e.launchElement,z=e.lockAspectRatio,E=e.maximized,P=e.minimized,k=e.name,M=e.taskbarElement,S=e.width,D=e.windowed,C=e.x,I=e.y,K=Object(m.useContext)(f.a),W=K.foreground,_=K.getState,A=K.saveState,B=K.session,N=B.foregroundId,R=B.stackOrder,J=Object(m.useContext)(l.a),T=J.processes,V=J.close,Z=J.maximize,q=J.minimize,F=J.position,G=J.restore,H=J.size,U=Object(m.useState)(!1),X=U[0],Y=U[1],L=_({id:v}),Q=L.x,$=L.y,ee=function(e,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(e===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)&&t===n){var r=window.innerWidth,o=window.innerHeight-u.d;if(i){var a=Math.min(r,e)*(t/e);a>o?r=o/(t/e):o=a}return{height:Math.floor(Math.min(o,t)),width:Math.floor(Math.min(r,e))}}return{height:t,width:e}}(S,j,c,d,z),te=ee.height,ne=ee.width,ie={onMinimize:function(){return q(v)},onMaximize:function(){return E?G(v,"maximized"):Z(v)},onClose:function(){A({height:te,id:v,width:ne,x:C,y:I}),V(v)},onFocus:function(){return W(v)},onBlur:function(e){e.relatedTarget!==M&&W("")},updatePosition:F(v),zIndex:w+R.slice().reverse().indexOf(v),maximized:X,minimized:P,id:v,height:te,width:ne};return Object(m.useEffect)((function(){N===v&&P?W(s(T,R.filter((function(e){return e!==v})))):R.includes(v)||W(s(T,R))}),[N,v,P,T,R]),Object(m.useEffect)((function(){E?Y(!0):X&&setTimeout((function(){return Y(!1)}),u.a*u.b)}),[E]),Object(r.jsx)(h.b.article,O(O({className:a.a.animatedWindows,style:{zIndex:N===v?u.g:ie.zIndex,height:te,width:ne}},Object(b.d)({initialX:Q,initialY:$,animation:(E&&P?"maxmin":E&&"maximized")||P&&"minimized"||"start",height:te,width:ne,x:C,y:I,taskbarElement:M,launchElement:y})),{},{children:D?Object(r.jsx)(g,O(O({icon:x,name:k,bgColor:p,lockAspectRatio:z,updateSize:H(v)},ie),{},{children:Object(r.jsx)(n,O(O({},i),ie))})):Object(r.jsx)(n,O(O({},i),ie))}),v)}}}]);